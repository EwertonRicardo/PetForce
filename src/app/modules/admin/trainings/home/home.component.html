<div class="flex min-w-0 flex-auto flex-col">
    <!-- Main -->
    <div class="-mt-px flex-auto border-t pt-4 sm:pt-6">
        <div class="mx-auto w-full max-w-screen-xl">
            <!-- Tabs -->
            <mat-tab-group
                class="sm:px-2"
                mat-stretch-tabs="false"
                [animationDuration]="'0'"
            >
                <!-- Básico -->
                <mat-tab label="Básico">
                    <ng-template matTabContent>
                        @if (this.courses.length) {
                            <div
                                class="mt-8 grid grid-cols-1 gap-8 sm:mt-10 sm:grid-cols-2 lg:grid-cols-3"
                            >
                                @for (
                                    course of courses;
                                    track trackByFn($index, course)
                                ) {
                                    <!-- Course -->
                                    <div
                                        class="bg-card flex h-fit flex-col overflow-hidden rounded-2xl shadow"
                                    >
                                        <div class="flex flex-col p-6">
                                            <div
                                                class="flex items-center justify-between"
                                            >
                                                <!-- Course category -->
                                                @if (
                                                    course.category
                                                        | fuseFindByKey
                                                            : 'slug'
                                                            : categories;
                                                    as category
                                                ) {
                                                    <div
                                                        class="rounded-full px-3 py-0.5 text-sm font-semibold"
                                                        [ngClass]="{
                                                            'bg-blue-100 text-blue-800 dark:bg-blue-500 dark:text-blue-50':
                                                                category.slug ===
                                                                'web',
                                                            'bg-green-100 text-green-800 dark:bg-green-500 dark:text-green-50':
                                                                category.slug ===
                                                                'android',
                                                            'bg-pink-100 text-pink-800 dark:bg-pink-500 dark:text-pink-50':
                                                                category.slug ===
                                                                'cloud',
                                                            'bg-amber-100 text-amber-800 dark:bg-amber-500 dark:text-amber-50':
                                                                category.slug ===
                                                                'firebase',
                                                        }"
                                                    >
                                                        {{ category.title }}
                                                    </div>
                                                }
                                                <!-- Completed at least once -->
                                                <div class="flex items-center">
                                                    @if (
                                                        course.progress
                                                            .completed > 0
                                                    ) {
                                                        <mat-icon
                                                            class="text-green-600 icon-size-5"
                                                            [svgIcon]="
                                                                'heroicons_solid:check-badge'
                                                            "
                                                            [matTooltip]="
                                                                'You completed this course at least once'
                                                            "
                                                        ></mat-icon>
                                                    }
                                                </div>
                                            </div>
                                            <!-- Course title & description -->
                                            <div
                                                class="mt-4 text-lg font-medium"
                                            >
                                                {{ course.title }}
                                            </div>
                                            <div
                                                class="text-secondary mt-0.5 line-clamp-2"
                                            >
                                                {{ course.description }}
                                            </div>
                                            <div
                                                class="my-6 h-1 w-12 border-t-2"
                                            ></div>
                                            <!-- Course time -->
                                            <div
                                                class="text-secondary flex items-center text-md leading-5"
                                            >
                                                <mat-icon
                                                    class="text-hint icon-size-5"
                                                    [svgIcon]="
                                                        'heroicons_solid:clock'
                                                    "
                                                ></mat-icon>
                                                <div class="ml-1.5">
                                                    {{ course.duration }}
                                                    minutes
                                                </div>
                                            </div>
                                            <!-- Course completion -->
                                            <div
                                                class="text-secondary mt-2 flex items-center text-md leading-5"
                                            >
                                                <mat-icon
                                                    class="text-hint icon-size-5"
                                                    [svgIcon]="
                                                        'heroicons_solid:academic-cap'
                                                    "
                                                ></mat-icon>
                                                @if (
                                                    course.progress
                                                        .completed === 0
                                                ) {
                                                    <div class="ml-1.5">
                                                        Never completed
                                                    </div>
                                                }
                                                @if (
                                                    course.progress.completed >
                                                    0
                                                ) {
                                                    <div class="ml-1.5">
                                                        <span>Completed</span>
                                                        <span class="ml-1">
                                                            <!-- Once -->
                                                            @if (
                                                                course.progress
                                                                    .completed ===
                                                                1
                                                            ) {
                                                                once
                                                            }
                                                            <!-- Twice -->
                                                            @if (
                                                                course.progress
                                                                    .completed ===
                                                                2
                                                            ) {
                                                                twice
                                                            }
                                                            <!-- Others -->
                                                            @if (
                                                                course.progress
                                                                    .completed >
                                                                2
                                                            ) {
                                                                {{
                                                                    course
                                                                        .progress
                                                                        .completed
                                                                }}
                                                                {{
                                                                    course
                                                                        .progress
                                                                        .completed
                                                                        | i18nPlural
                                                                            : {
                                                                                  '=0': 'time',
                                                                                  '=1': 'time',
                                                                                  other: 'times',
                                                                              }
                                                                }}
                                                            }
                                                        </span>
                                                    </div>
                                                }
                                            </div>
                                        </div>
                                        <!-- Footer -->
                                        <div
                                            class="mt-auto flex w-full flex-col"
                                        >
                                            <!-- Course launch button -->
                                            <div
                                                class="bg-gray-50 px-6 py-4 text-right dark:bg-transparent"
                                            >
                                                <a
                                                    mat-stroked-button
                                                    [routerLink]="[course.id]"
                                                >
                                                    <span
                                                        class="inline-flex items-center"
                                                    >
                                                        <!-- Not started -->
                                                        @if (
                                                            course.progress
                                                                .currentStep ===
                                                            0
                                                        ) {
                                                            <!-- Never completed -->
                                                            @if (
                                                                course.progress
                                                                    .completed ===
                                                                0
                                                            ) {
                                                                <span
                                                                    >Iniciar</span
                                                                >
                                                            }
                                                            <!-- Completed before -->
                                                            @if (
                                                                course.progress
                                                                    .completed >
                                                                0
                                                            ) {
                                                                <span
                                                                    >Start
                                                                    again</span
                                                                >
                                                            }
                                                        }

                                                        <!-- Started -->
                                                        @if (
                                                            course.progress
                                                                .currentStep > 0
                                                        ) {
                                                            <span
                                                                >Continuar</span
                                                            >
                                                        }

                                                        <mat-icon
                                                            class="ml-1.5 icon-size-5"
                                                            [svgIcon]="
                                                                'heroicons_solid:arrow-small-right'
                                                            "
                                                        ></mat-icon>
                                                    </span>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                }
                            </div>
                        } @else {
                            <div
                                class="flex flex-auto flex-col items-center justify-center bg-gray-100 dark:bg-transparent"
                            >
                                <mat-icon
                                    class="icon-size-24"
                                    [svgIcon]="
                                        'heroicons_outline:document-search'
                                    "
                                ></mat-icon>
                                <div
                                    class="text-secondary mt-6 text-2xl font-semibold tracking-tight"
                                >
                                    No courses found!
                                </div>
                            </div>
                        }
                    </ng-template>
                </mat-tab>

                <!-- Intermediário -->
                <mat-tab label="Intermediário">
                    @if (this.middle.length) {
                        <div
                            class="mt-8 grid grid-cols-1 gap-8 sm:mt-10 sm:grid-cols-2 lg:grid-cols-3"
                        >
                            @for (
                                course of middle;
                                track trackByFn($index, course)
                            ) {
                                <!-- Course -->
                                <div
                                    class="bg-card flex h-fit flex-col overflow-hidden rounded-2xl shadow"
                                >
                                    <div class="flex flex-col p-6">
                                        <div
                                            class="flex items-center justify-between"
                                        >
                                            <!-- Course category -->
                                            @if (
                                                course.category
                                                    | fuseFindByKey
                                                        : 'slug'
                                                        : categories;
                                                as category
                                            ) {
                                                <div
                                                    class="rounded-full px-3 py-0.5 text-sm font-semibold"
                                                    [ngClass]="{
                                                        'bg-blue-100 text-blue-800 dark:bg-blue-500 dark:text-blue-50':
                                                            category.slug ===
                                                            'web',
                                                        'bg-green-100 text-green-800 dark:bg-green-500 dark:text-green-50':
                                                            category.slug ===
                                                            'android',
                                                        'bg-pink-100 text-pink-800 dark:bg-pink-500 dark:text-pink-50':
                                                            category.slug ===
                                                            'cloud',
                                                        'bg-amber-100 text-amber-800 dark:bg-amber-500 dark:text-amber-50':
                                                            category.slug ===
                                                            'firebase',
                                                    }"
                                                >
                                                    {{ category.title }}
                                                </div>
                                            }
                                            <!-- Completed at least once -->
                                            <div class="flex items-center">
                                                @if (
                                                    course.progress.completed >
                                                    0
                                                ) {
                                                    <mat-icon
                                                        class="text-green-600 icon-size-5"
                                                        [svgIcon]="
                                                            'heroicons_solid:check-badge'
                                                        "
                                                        [matTooltip]="
                                                            'You completed this course at least once'
                                                        "
                                                    ></mat-icon>
                                                }
                                            </div>
                                        </div>

                                        <div
                                            class="my-4 overflow-hidden rounded-2xl shadow-lg"
                                        >
                                            <iframe
                                                src="https://www.youtube.com/embed/c9F5kMUfFKk"
                                                width="100%"
                                                height="100%"
                                                frameborder="0"
                                                webkitallowfullscreen
                                                mozallowfullscreen
                                                allowfullscreen
                                            ></iframe>
                                        </div>
                                        <!-- Course title & description -->
                                        <div class="mt-4 text-lg font-medium">
                                            {{ course.title }}
                                        </div>
                                        <div
                                            class="text-secondary mt-0.5 line-clamp-2"
                                        >
                                            {{ course.description }}
                                        </div>
                                        <div
                                            class="my-6 h-1 w-12 border-t-2"
                                        ></div>
                                        <!-- Course time -->
                                        <div
                                            class="text-secondary flex items-center text-md leading-5"
                                        >
                                            <mat-icon
                                                class="text-hint icon-size-5"
                                                [svgIcon]="
                                                    'heroicons_solid:clock'
                                                "
                                            ></mat-icon>
                                            <div class="ml-1.5">
                                                {{ course.duration }}
                                                minutes
                                            </div>
                                        </div>
                                        <!-- Course completion -->
                                        <div
                                            class="text-secondary mt-2 flex items-center text-md leading-5"
                                        >
                                            <mat-icon
                                                class="text-hint icon-size-5"
                                                [svgIcon]="
                                                    'heroicons_solid:academic-cap'
                                                "
                                            ></mat-icon>
                                            @if (
                                                course.progress.completed === 0
                                            ) {
                                                <div class="ml-1.5">
                                                    Never completed
                                                </div>
                                            }
                                            @if (
                                                course.progress.completed > 0
                                            ) {
                                                <div class="ml-1.5">
                                                    <span>Completed</span>
                                                    <span class="ml-1">
                                                        <!-- Once -->
                                                        @if (
                                                            course.progress
                                                                .completed === 1
                                                        ) {
                                                            once
                                                        }
                                                        <!-- Twice -->
                                                        @if (
                                                            course.progress
                                                                .completed === 2
                                                        ) {
                                                            twice
                                                        }
                                                        <!-- Others -->
                                                        @if (
                                                            course.progress
                                                                .completed > 2
                                                        ) {
                                                            {{
                                                                course.progress
                                                                    .completed
                                                            }}
                                                            {{
                                                                course.progress
                                                                    .completed
                                                                    | i18nPlural
                                                                        : {
                                                                              '=0': 'time',
                                                                              '=1': 'time',
                                                                              other: 'times',
                                                                          }
                                                            }}
                                                        }
                                                    </span>
                                                </div>
                                            }
                                        </div>
                                    </div>
                                    <!-- Footer -->
                                    <div class="mt-auto flex w-full flex-col">
                                        <!-- Course launch button -->
                                        <div
                                            class="bg-gray-50 px-6 py-4 text-right dark:bg-transparent"
                                        >
                                            <a
                                                mat-stroked-button
                                                [routerLink]="[course.id]"
                                            >
                                                <span
                                                    class="inline-flex items-center"
                                                >
                                                    <!-- Not started -->
                                                    @if (
                                                        course.progress
                                                            .currentStep === 0
                                                    ) {
                                                        <!-- Never completed -->
                                                        @if (
                                                            course.progress
                                                                .completed === 0
                                                        ) {
                                                            <span>Iniciar</span>
                                                        }
                                                        <!-- Completed before -->
                                                        @if (
                                                            course.progress
                                                                .completed > 0
                                                        ) {
                                                            <span
                                                                >Start
                                                                again</span
                                                            >
                                                        }
                                                    }

                                                    <!-- Started -->
                                                    @if (
                                                        course.progress
                                                            .currentStep > 0
                                                    ) {
                                                        <span>Continuar</span>
                                                    }

                                                    <mat-icon
                                                        class="ml-1.5 icon-size-5"
                                                        [svgIcon]="
                                                            'heroicons_solid:arrow-small-right'
                                                        "
                                                    ></mat-icon>
                                                </span>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            }
                        </div>
                    } @else {
                        <div
                            class="flex flex-auto flex-col items-center justify-center bg-gray-100 dark:bg-transparent"
                        >
                            <mat-icon
                                class="icon-size-24"
                                [svgIcon]="'heroicons_outline:document-search'"
                            ></mat-icon>
                            <div
                                class="text-secondary mt-6 text-2xl font-semibold tracking-tight"
                            >
                                No courses found!
                            </div>
                        </div>
                    }
                </mat-tab>

                <!-- Avançado -->
                <mat-tab label="Avançado">
                    @if (this.hard.length) {
                        <div
                            class="mt-8 grid grid-cols-1 gap-8 sm:mt-10 sm:grid-cols-2 lg:grid-cols-3"
                        >
                            @for (
                                course of hard;
                                track trackByFn($index, course)
                            ) {
                                <!-- Course -->
                                <div
                                    class="bg-card flex h-fit flex-col overflow-hidden rounded-2xl shadow"
                                >
                                    <div class="flex flex-col p-6">
                                        <div
                                            class="flex items-center justify-between"
                                        >
                                            <!-- Course category -->
                                            @if (
                                                course.category
                                                    | fuseFindByKey
                                                        : 'slug'
                                                        : categories;
                                                as category
                                            ) {
                                                <div
                                                    class="rounded-full px-3 py-0.5 text-sm font-semibold"
                                                    [ngClass]="{
                                                        'bg-blue-100 text-blue-800 dark:bg-blue-500 dark:text-blue-50':
                                                            category.slug ===
                                                            'web',
                                                        'bg-green-100 text-green-800 dark:bg-green-500 dark:text-green-50':
                                                            category.slug ===
                                                            'android',
                                                        'bg-pink-100 text-pink-800 dark:bg-pink-500 dark:text-pink-50':
                                                            category.slug ===
                                                            'cloud',
                                                        'bg-amber-100 text-amber-800 dark:bg-amber-500 dark:text-amber-50':
                                                            category.slug ===
                                                            'firebase',
                                                    }"
                                                >
                                                    {{ category.title }}
                                                </div>
                                            }
                                            <!-- Completed at least once -->
                                            <div class="flex items-center">
                                                @if (
                                                    course.progress.completed >
                                                    0
                                                ) {
                                                    <mat-icon
                                                        class="text-green-600 icon-size-5"
                                                        [svgIcon]="
                                                            'heroicons_solid:check-badge'
                                                        "
                                                        [matTooltip]="
                                                            'You completed this course at least once'
                                                        "
                                                    ></mat-icon>
                                                }
                                            </div>
                                        </div>
                                        <!-- Course title & description -->
                                        <div class="mt-4 text-lg font-medium">
                                            {{ course.title }}
                                        </div>
                                        <div
                                            class="text-secondary mt-0.5 line-clamp-2"
                                        >
                                            {{ course.description }}
                                        </div>
                                        <div
                                            class="my-6 h-1 w-12 border-t-2"
                                        ></div>
                                        <!-- Course time -->
                                        <div
                                            class="text-secondary flex items-center text-md leading-5"
                                        >
                                            <mat-icon
                                                class="text-hint icon-size-5"
                                                [svgIcon]="
                                                    'heroicons_solid:clock'
                                                "
                                            ></mat-icon>
                                            <div class="ml-1.5">
                                                {{ course.duration }}
                                                minutes
                                            </div>
                                        </div>
                                        <!-- Course completion -->
                                        <div
                                            class="text-secondary mt-2 flex items-center text-md leading-5"
                                        >
                                            <mat-icon
                                                class="text-hint icon-size-5"
                                                [svgIcon]="
                                                    'heroicons_solid:academic-cap'
                                                "
                                            ></mat-icon>
                                            @if (
                                                course.progress.completed === 0
                                            ) {
                                                <div class="ml-1.5">
                                                    Never completed
                                                </div>
                                            }
                                            @if (
                                                course.progress.completed > 0
                                            ) {
                                                <div class="ml-1.5">
                                                    <span>Completed</span>
                                                    <span class="ml-1">
                                                        <!-- Once -->
                                                        @if (
                                                            course.progress
                                                                .completed === 1
                                                        ) {
                                                            once
                                                        }
                                                        <!-- Twice -->
                                                        @if (
                                                            course.progress
                                                                .completed === 2
                                                        ) {
                                                            twice
                                                        }
                                                        <!-- Others -->
                                                        @if (
                                                            course.progress
                                                                .completed > 2
                                                        ) {
                                                            {{
                                                                course.progress
                                                                    .completed
                                                            }}
                                                            {{
                                                                course.progress
                                                                    .completed
                                                                    | i18nPlural
                                                                        : {
                                                                              '=0': 'time',
                                                                              '=1': 'time',
                                                                              other: 'times',
                                                                          }
                                                            }}
                                                        }
                                                    </span>
                                                </div>
                                            }
                                        </div>
                                    </div>
                                    <!-- Footer -->
                                    <div class="mt-auto flex w-full flex-col">
                                        <!-- Course launch button -->
                                        <div
                                            class="bg-gray-50 px-6 py-4 text-right dark:bg-transparent"
                                        >
                                            <a
                                                mat-stroked-button
                                                [routerLink]="[course.id]"
                                            >
                                                <span
                                                    class="inline-flex items-center"
                                                >
                                                    <!-- Not started -->
                                                    @if (
                                                        course.progress
                                                            .currentStep === 0
                                                    ) {
                                                        <!-- Never completed -->
                                                        @if (
                                                            course.progress
                                                                .completed === 0
                                                        ) {
                                                            <span>Iniciar</span>
                                                        }
                                                        <!-- Completed before -->
                                                        @if (
                                                            course.progress
                                                                .completed > 0
                                                        ) {
                                                            <span
                                                                >Start
                                                                again</span
                                                            >
                                                        }
                                                    }

                                                    <!-- Started -->
                                                    @if (
                                                        course.progress
                                                            .currentStep > 0
                                                    ) {
                                                        <span>Continuar</span>
                                                    }

                                                    <mat-icon
                                                        class="ml-1.5 icon-size-5"
                                                        [svgIcon]="
                                                            'heroicons_solid:arrow-small-right'
                                                        "
                                                    ></mat-icon>
                                                </span>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            }
                        </div>
                    } @else {
                        <div
                            class="flex flex-auto flex-col items-center justify-center bg-gray-100 dark:bg-transparent"
                        >
                            <mat-icon
                                class="icon-size-24"
                                [svgIcon]="'heroicons_outline:document-search'"
                            ></mat-icon>
                            <div
                                class="text-secondary mt-6 text-2xl font-semibold tracking-tight"
                            >
                                No courses found!
                            </div>
                        </div>
                    }
                </mat-tab>
            </mat-tab-group>
        </div>
    </div>
</div>
